<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>ESMValTool Tutorial: Writing your own recipe</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css"><script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/incubator/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicons/incubator/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../favicons/incubator/favicon-16x16.png"><link rel="manifest" href="../favicons/incubator/site.webmanifest"><link rel="mask-icon" href="../favicons/incubator/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Lesson Description" src="../assets/images/incubator-logo.svg"><span class="badge text-bg-danger">
          <abbr title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.">
            <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#early-development-pre-alpha-through-alpha" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='../06-preprocessor.html';">Learner View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Lesson Description" src="../assets/images/incubator-logo-sm.svg"></div>
    <div class="lesson-title-md">
      ESMValTool Tutorial
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            ESMValTool Tutorial
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><hr><li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  ESMValTool Tutorial
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 31%" class="percentage">
    31%
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: 31%" aria-valuenow="31" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../06-preprocessor.html">Learner View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="00-introduction.html">1. Introduction</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="01-quickstart.html">2. Quickstart guide</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="02-installation.html">3. Installation</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="03-configuration.html">4. Configuration</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="04-recipe.html">5. Running your first recipe</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="05-conclusions.html">6. Conclusion of the basic tutorial</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        7. Writing your own recipe
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#introduction">Introduction</a></li>
<li><a href="#building-a-recipe-from-scratch">Building a recipe from scratch</a></li>
<li><a href="#adding-the-preprocessor-section">Adding the preprocessor section</a></li>
<li><a href="#completing-the-diagnostics-section">Completing the diagnostics section</a></li>
<li><a href="#bonus-exercises">Bonus exercises</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="07-development-setup.html">8. Development and contribution</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="08-diagnostics.html">9. Writing your own diagnostic script</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush11">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading11">
        <a href="09-cmorization.html">10. CMORization: adding new datasets to ESMValTool</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush12">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading12">
        <a href="10-debugging.html">11. Debugging</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <hr><li><a class="dropdown-item" href="reference.html">Reference</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="../instructor/aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/05-conclusions.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/07-development-setup.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/05-conclusions.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Conclusion of the
        </a>
        <a class="chapter-link float-end" href="../instructor/07-development-setup.html" rel="next">
          Next: Development and...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Writing your own recipe</h1>
        <p>Last updated on 2024-11-21 |

        <a href="https://github.com/ehogan/ESMValTool_Tutorial/edit/main/episodes/06-preprocessor.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 45 minutes</p>

        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a></h2>
<hr class="half-width"><p>One of the key strengths of ESMValTool is in making complex analyses
reusable and reproducible. But that doesn’t mean everything in
ESMValTool needs to be complex. Sometimes, the biggest challenge is in
keeping things simple. You probably know the ‘warming stripes’
visualization by Professor Ed Hawkins. On the site <a href="https://showyourstripes.info" class="external-link uri">https://showyourstripes.info</a>{:target=“_blank”} you can
find the same visualization for many regions in the world.</p>
<p><img src="../fig/warming_stripes.png" alt="Warming stripes" class="figure"><em>Shared by Ed Hawkins under a Creative Commons 4.0 Attribution
International licence. Source: <a href="https://showyourstripes.info" class="external-link uri">https://showyourstripes.info</a></em></p>
<p>In this episode, we will reproduce and extend this functionality with
ESMValTool. We have prepared a small Python script that takes a NetCDF
file with timeseries data, and visualizes it in the form of our desired
warming stripes figure.</p>
<p>The diagnostic script that we will use is called
<code>warming_stripes.py</code> and can be downloaded <a href="../files/warming_stripes.py">here</a>.</p>
<p>Download the file and store it in your working directory. If you
want, you may also have a look at the contents, but it is not necessary
to do so for this lesson.</p>
<p>We will write an ESMValTool recipe that takes some data, performs the
necessary preprocessing, and then runs this Python script.</p>
<blockquote>
<h2 id="drawing-up-a-plan">Drawing up a plan</h2>
<p>Previously, we saw that running ESMValTool executes a number of
tasks. What tasks do you think we will need to execute and what should
each of these tasks do to generate the warming stripes?</p>
<blockquote>
<h2 id="answer">Answer</h2>
<p>In this episode, we will need to do the following two tasks:</p>
<ul><li>A preprocessing task that converts the gridded temperature data to a
timeseries of global temperature anomalies</li>
<li>A diagnostic tasks that calls our Python script, taking our
preprocessed timeseries data as input.</li>
</ul><p>{: .solution} {: .challenge}</p>
</blockquote>
</blockquote>
</section><section><h2 class="section-heading" id="building-a-recipe-from-scratch">Building a recipe from scratch<a class="anchor" aria-label="anchor" href="#building-a-recipe-from-scratch"></a></h2>
<hr class="half-width"><p>The easiest way to make a new recipe is to start from an existing
one, and modify it until it does exactly what you need. However, in this
episode we will start from scratch. This forces us to think about all
the steps involved in processing the data. We will also deal with
commonly occurring errors through the development of the recipe.</p>
<p>Remember the basic structure of a recipe, and notice that each
component is extensively described in the documentation under the
section, [“Overview”][recipe-overview]{:target=“_blank”}:</p>
<ul><li>[documentation][recipe-section-documentation]{:target=“_blank”}</li>
<li>[datasets][recipe-section-datasets]{:target=“_blank”}</li>
<li>[preprocessors][recipe-section-preprocessors]{:target=“_blank”}</li>
<li>[diagnostics][recipe-section-diagnostics]{:target=“_blank”}</li>
</ul><p>This is the first place to look for help if you get stuck.</p>
<p>Open a new file called <code>recipe_warming_stripes.yml</code>:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">nano</span> recipe_warming_stripes.yml</span></code></pre>
</div>
<p>Let’s add the standard header comments (these do not do anything),
and a first description.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">YAML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode yaml" tabindex="0"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># ESMValTool</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="co"># recipe_warming_stripes.yml</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="fu">documentation</span><span class="kw">:</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="at">  </span><span class="fu">description</span><span class="kw">:</span><span class="at"> Reproducing Ed Hawkins' warming stripes visualization</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Reproducing Ed Hawkins' warming stripes visualization.</span></span></code></pre>
</div>
<p>Notice that <code>yaml</code> always requires <code>two spaces</code>
indentation between the different levels. Pressing <code>ctrl+o</code>
will save the file. Verify the filename at the bottom and press enter.
Then use <code>ctrl+x</code> to exit the editor.</p>
<p>We will try to run the recipe after every modification we make, to
see if it (still) works!</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">esmvaltool</span> run recipe_warming_stripes.yml</span></code></pre>
</div>
<p>In this case, it gives an error. Below you see the last few lines of
the error message.</p>
<pre><code>...
yamale.yamale_error.YamaleError:
Error validating data '/home/users/username/esmvaltool_tutorial/recipe_warming_stripes.yml'
with schema
'/apps/jasmin/community/esmvaltool/miniconda3_py311_23.11.0-2/envs/esmvaltool/lib/python3.11/
site-packages/esmvalcore/_recipe/recipe_schema.yml'
	documentation.authors: Required field missing
2024-05-27 13:21:23,805 UTC [41924] INFO
If you have a question or need help, please start a new discussion on
https://github.com/ESMValGroup/ESMValTool/discussions
If you suspect this is a bug, please open an issue on
https://github.com/ESMValGroup/ESMValTool/issues
To make it easier to find out what the problem is, please consider attaching the
files run/recipe_*.yml and run/main_log_debug.txt from the output directory.
</code></pre>
<p>{: .error}</p>
<p>We can use the the log message above, to understand why ESMValTool
failed. Here, this is because we missed a required field with author
names. The text
<code>documentation.authors: Required field missing</code> tells us
that. We see that ESMValTool always tries to validate the recipe at an
early stage. Note also the suggestion to open a GitHub issue if you need
help debugging the error message. This is something most users do when
they cannot understand the error or are not able to fix it on their
own.</p>
<p>Let’s add some additional information to the recipe. Open the recipe
file again, and add an authors section below the description. ESMValTool
expects the authors as a list, like so:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">YAML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode yaml" tabindex="0"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">authors</span><span class="kw">:</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> lastname_firstname</span></span></code></pre>
</div>
<p>To bypass a number of similar error messages, add a minimal
diagnostics section below the documentation. The file should now look
like:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">YAML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode yaml" tabindex="0"><code class="sourceCode yaml"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># ESMValTool</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="co"># recipe_warming_stripes.yml</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="fu">documentation</span><span class="kw">:</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="at">  </span><span class="fu">description</span><span class="kw">:</span><span class="at"> Reproducing Ed Hawkins' warming stripes visualization</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Reproducing Ed Hawkins' warming stripes visualization.</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a><span class="at">  </span><span class="fu">authors</span><span class="kw">:</span></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> doe_john</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="fu">diagnostics</span><span class="kw">:</span></span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a><span class="at">  </span><span class="fu">dummy_diagnostic_1</span><span class="kw">:</span></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a><span class="at">    </span><span class="fu">scripts</span><span class="kw">:</span><span class="at"> </span><span class="ch">null</span></span></code></pre>
</div>
<p>This is the minimal recipe layout that is required by ESMValTool. If
we now run the recipe again, you will probably see the following
error:</p>
<pre><code>ValueError: Tag 'doe_john' does not exist in section
'authors' of /apps/jasmin/community/esmvaltool/ESMValTool_2.10.0/esmvaltool/config-references.yml
</code></pre>
<p>{: .error}</p>
<blockquote>
<h2 id="pro-tip-config-references.yml">Pro tip:
config-references.yml</h2>
<p>The error message above points to a file named
[config-references.yml][config-references] This is where ESMValTool
stores all its citation information. To add yourself as an author, add
your name in the form <code>lastname_firstname</code> in alphabetical
order following the existing entries, under the
<code># Development team</code> section. See the [List of
authors][list-of-authors]{:target=“_blank”} section in the ESMValTool
documentation for more information. {: .callout}</p>
</blockquote>
<p>For now, let’s just use one of the existing references. Change the
author field to <code>righi_mattia</code>, who cannot receive enough
credit for all the effort he put into ESMValTool. If you now run the
recipe again, you should see the final message</p>
<pre><code>ERROR   No tasks to run!</code></pre>
<p>{: .output}</p>
<p>Although there is no actual error in the recipe, ESMValTool assumes
you mistakenly left out a variable name to process and alerts you with
this error message. ## Adding a dataset entry</p>
<p>Let’s add a datasets section.</p>
<blockquote>
<h2 id="filling-in-the-dataset-keys">Filling in the dataset keys</h2>
<p>Use the paths specified in the configuration file to explore the data
directory, and look at the explanation of the dataset entry in the
[ESMValTool documentation][recipe-section-datasets]{:target=“_blank”}.
For both the datasets, write down the following properties:</p>
<ul><li>project</li>
<li>variable (short name)</li>
<li>CMIP table</li>
<li>dataset (model name or obs/reanalysis dataset)</li>
<li>experiment</li>
<li>ensemble member</li>
<li>grid</li>
<li>start year</li>
<li>end year</li>
</ul><blockquote>
<h2 id="answers">Answers</h2>
<div class="line-block">
<strong>key</strong> | <strong>file 1</strong> |
<strong>file 2</strong> |<br>
project | CMIP6 | CMIP5 |<br>
short name | tas | tas |<br>
CMIP table | Amon | Amon |<br>
dataset | BCC-ESM1 | bcc-csm1-1|<br>
experiment | historical | historical |<br>
ensemble | r1i1p1f1 | r1i1p1 |<br>
grid | gn (native grid) | N/A |<br>
start year | 1850 | 1850 |<br>
end year | 2014 | 2005 |</div>
<p>Note that the grid key is only required for CMIP6 data, and that the
extent of the historical period has changed between CMIP5 and CMIP6.</p>
<p>{: .solution} {: .challenge}</p>
</blockquote>
</blockquote>
<p>Let us start with the BCC-ESM1 dataset and add a datasets section to
the recipe, listing this single dataset, as shown below. Note that key
fields such as <code>mip</code> or <code>start_year</code> are included
in the <code>datasets</code> section here but are part of the
<code>diagnostic</code> section in the recipe example seen in <a href="%7B%7B%20page.root%20%7D%7D%7B%%20link%20_episodes/04-recipe.md%20%%7D">Running
your first recipe</a>.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">YAML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode yaml" tabindex="0"><code class="sourceCode yaml"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co"># ESMValTool</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="co"># recipe_warming_stripes.yml</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="fu">documentation</span><span class="kw">:</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="at">  </span><span class="fu">description</span><span class="kw">:</span><span class="at"> Reproducing Ed Hawkins' warming stripes visualization</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Reproducing Ed Hawkins' warming stripes visualization.</span></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a><span class="at">  </span><span class="fu">authors</span><span class="kw">:</span></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> doe_john</span></span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a><span class="fu">datasets</span><span class="kw">:</span></span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="fu">dataset</span><span class="kw">:</span><span class="at"> BCC-ESM1</span><span class="kw">,</span><span class="at"> </span><span class="fu">project</span><span class="kw">:</span><span class="at"> CMIP6</span><span class="kw">,</span><span class="at"> </span><span class="fu">mip</span><span class="kw">:</span><span class="at"> Amon</span><span class="kw">,</span><span class="at"> </span><span class="fu">exp</span><span class="kw">:</span><span class="at"> historical</span><span class="kw">,</span><span class="at"> </span></span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a><span class="at">     </span><span class="fu">ensemble</span><span class="kw">:</span><span class="at"> r1i1p1f1</span><span class="kw">,</span><span class="at"> </span><span class="fu">grid</span><span class="kw">:</span><span class="at"> gn</span><span class="kw">,</span><span class="at"> </span><span class="fu">start_year</span><span class="kw">:</span><span class="at"> </span><span class="dv">1850</span><span class="kw">,</span><span class="at"> </span><span class="fu">end_year</span><span class="kw">:</span><span class="at"> </span><span class="dv">2014</span><span class="kw">}</span></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a></span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a><span class="fu">diagnostics</span><span class="kw">:</span></span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a><span class="at">  </span><span class="fu">dummy_diagnostic_1</span><span class="kw">:</span></span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a><span class="at">    </span><span class="fu">scripts</span><span class="kw">:</span><span class="at"> </span><span class="ch">null</span></span></code></pre>
</div>
<p>The recipe should run but produce the same message as in the previous
case since we still have not included a variable to actually process. We
have not included the short name of the variable in this dataset section
because this allows us to reuse this dataset entry with different
variable names later on. This is not really necessary for our simple use
case, but it is common practice in ESMValTool.</p>
<blockquote>
<h2 id="pro-tip-automatically-populating-a-recipe-with-all-available-datasets">Pro-tip:
Automatically populating a recipe with all available datasets</h2>
<p>You can select all available models for processing using
<code>glob</code> patterns or wildcards. An example
<code>datasets</code> section that uses all available CMIP6 models and
ensemble members for the <code>historical</code> experiment is available
[here] [include-all-datasets]{:target=“_blank”}. Note that you will have
to set the <code>search_esgf</code> option in the
<code>config_file</code> to <code>always</code> so that you can download
data from ESGF nodes as needed. {: .callout}</p>
</blockquote>
</section><section><h2 class="section-heading" id="adding-the-preprocessor-section">Adding the preprocessor section<a class="anchor" aria-label="anchor" href="#adding-the-preprocessor-section"></a></h2>
<hr class="half-width"><p>Above, we already described the preprocessing task that needs to
convert the standard, gridded temperature data to a timeseries of
temperature anomalies.</p>
<blockquote>
<h2 id="defining-the-preprocessor">Defining the preprocessor</h2>
<p>Have a look at the available preprocessors in the
[documentation][preprocessor]{:target=“_blank”}. Write down</p>
<ul><li>Which preprocessor functions do you think we should use?</li>
<li>What are the parameters that we can pass to these functions?</li>
<li>What do you think should be the order of the preprocessors?</li>
<li>A suitable name for the overall preprocessor</li>
</ul><blockquote>
<h2 id="solution">Solution</h2>
<p>We need to calculate anomalies and global means. There is an
<code>anomalies</code> preprocessor which takes in as arguments, a time
period, a reference period, and whether or not to standardize the data.
The global means can be calculated with the <code>area_statistics</code>
preprocessor, which takes an operator as argument (in our case we want
to compute the <code>mean</code>).</p>
<p>The default order in which these preprocessors are applied can be
seen [here][preprocessor-functions]{:target=“_blank”}:
<code>area_statistics</code> comes before <code>anomalies</code>. If you
want to change this, you can use the <code>custom_order</code>
preprocessor as described
[here][recipe-section-preprocessors]{:target=“_blank”}. For this
example, we will keep the default order..</p>
<p>Let’s name our preprocessor <code>global_anomalies</code>. {:
.solution} {: .challenge}</p>
</blockquote>
</blockquote>
<p>Add the following block to your recipe file between the
<code>datasets</code> and <code>diagnostics</code> block:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">YAML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode yaml" tabindex="0"><code class="sourceCode yaml"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">preprocessors</span><span class="kw">:</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="at">  </span><span class="fu">global_anomalies</span><span class="kw">:</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="at">    </span><span class="fu">area_statistics</span><span class="kw">:</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="at">      </span><span class="fu">operator</span><span class="kw">:</span><span class="at"> mean</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="at">    </span><span class="fu">anomalies</span><span class="kw">:</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a><span class="at">        </span><span class="fu">period</span><span class="kw">:</span><span class="at"> month</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a><span class="at">        </span><span class="fu">reference</span><span class="kw">:</span></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a><span class="at">          </span><span class="fu">start_year</span><span class="kw">:</span><span class="at"> </span><span class="dv">1981</span></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="at">          </span><span class="fu">start_month</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a><span class="at">          </span><span class="fu">start_day</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a><span class="at">          </span><span class="fu">end_year</span><span class="kw">:</span><span class="at"> </span><span class="dv">2010</span></span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a><span class="at">          </span><span class="fu">end_month</span><span class="kw">:</span><span class="at"> </span><span class="dv">12</span></span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a><span class="at">          </span><span class="fu">end_day</span><span class="kw">:</span><span class="at"> </span><span class="dv">31</span></span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a><span class="at">        </span><span class="fu">standardize</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span></code></pre>
</div>
</section><section><h2 class="section-heading" id="completing-the-diagnostics-section">Completing the diagnostics section<a class="anchor" aria-label="anchor" href="#completing-the-diagnostics-section"></a></h2>
<hr class="half-width"><p>We are now ready to finish our diagnostics section. Remember that we
want to create two tasks: a preprocessor task, and a diagnostic task. To
illustrate that we can also pass settings to the diagnostic script, we
add the option to specify a custom colormap.</p>
<blockquote>
<h2 id="fill-in-the-blanks">Fill in the blanks</h2>
<p>Extend the diagnostics section in your recipe by filling in the
blanks in the following template:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">YAML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode yaml" tabindex="0"><code class="sourceCode yaml"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">diagnostics</span><span class="kw">:</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="at">  </span><span class="fu">&lt;... (suitable name for our diagnostic)&gt;</span><span class="kw">:</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a><span class="fu">    description</span><span class="kw">: </span><span class="at">&lt;...</span><span class="ch">&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="at">    </span><span class="fu">variables</span><span class="kw">:</span></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="at">      </span><span class="fu">&lt;... (suitable name for the preprocessed variable)&gt;</span><span class="kw">:</span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a><span class="fu">        short_name</span><span class="kw">: </span><span class="at">&lt;...</span><span class="ch">&gt;</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a><span class="fu">        preprocessor</span><span class="kw">: </span><span class="at">&lt;...</span><span class="ch">&gt;</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a><span class="at">    </span><span class="fu">scripts</span><span class="kw">:</span></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a><span class="at">      </span><span class="fu">&lt;... (suitable name for our python script)&gt;</span><span class="kw">:</span></span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a><span class="at">        </span><span class="fu">script</span><span class="kw">:</span><span class="at"> &lt;full path to python script&gt;</span></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a><span class="at">        </span><span class="fu">colormap</span><span class="kw">:</span><span class="at"> &lt;... choose from matplotlib colormaps&gt;</span></span></code></pre>
</div>
<blockquote>
<h2 id="solution-1">Solution</h2>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">YAML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode yaml" tabindex="0"><code class="sourceCode yaml"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="fu">diagnostics</span><span class="kw">:</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="at">  </span><span class="fu">diagnostic_warming_stripes</span><span class="kw">:</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a><span class="at">    </span><span class="fu">description</span><span class="kw">:</span><span class="at"> visualize global temperature anomalies as warming stripes</span></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a><span class="at">    </span><span class="fu">variables</span><span class="kw">:</span></span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a><span class="at">      </span><span class="fu">global_temperature_anomalies_global</span><span class="kw">:</span></span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a><span class="at">        </span><span class="fu">short_name</span><span class="kw">:</span><span class="at"> tas</span></span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a><span class="at">        </span><span class="fu">preprocessor</span><span class="kw">:</span><span class="at"> global_anomalies</span></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a><span class="at">    </span><span class="fu">scripts</span><span class="kw">:</span></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a><span class="at">      </span><span class="fu">warming_stripes_script</span><span class="kw">:</span></span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a><span class="at">        </span><span class="fu">script</span><span class="kw">:</span><span class="at"> ~/esmvaltool_tutorial/warming_stripes.py</span></span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a><span class="at">        </span><span class="fu">colormap</span><span class="kw">:</span><span class="at"> </span><span class="st">'bwr'</span></span></code></pre>
</div>
<p>{: .solution} {: .challenge}</p>
</blockquote>
</blockquote>
<p>You should now be able to run the recipe to get your own warming
stripes.</p>
<p>Note: for the purpose of simplicity in this episode, we have not
added logging or provenance tracking in the diagnostic script. Once you
start to develop your own diagnostic scripts and want to add them to the
ESMValTool repositories, this will be required. Writing your own
diagnostic script is discussed in a <a href="%7B%7B%20page.root%20%7D%7D%7B%%20link%20_episodes/08-diagnostics.md%20%%7D">later
episode</a>.</p>
</section><section><h2 class="section-heading" id="bonus-exercises">Bonus exercises<a class="anchor" aria-label="anchor" href="#bonus-exercises"></a></h2>
<hr class="half-width"><p>Below are a few exercises to practice modifying an ESMValTool recipe.
For your reference, here’s a copy of the <a href="../files/recipe_warming_stripes.yml">recipe at this point</a>. This
will be the point of departure for each of the modifications we’ll make
below.</p>
<blockquote>
<h2 id="specific-location-selection">Specific location selection</h2>
<p>On showyourstripes.org, you can download stripes for specific
locations. Here we show how this can be done with ESMValTool. Instead of
the global mean, we can pick a location to plot the stripes for. Can you
find a suitable preprocessor to do this?</p>
<blockquote>
<h2 id="solution-2">Solution</h2>
<p>You can use <code>extract_point</code> or <code>extract_region</code>
to select a location. We used <code>extract_point</code>. Here’s a copy
of the <a href="../files/recipe_warming_stripes_local.yml">recipe at this
point</a> and this is the difference from the previous recipe:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">DIFF<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode diff" tabindex="0"><code class="sourceCode diff"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="kw">--- recipe_warming_stripes.yml</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="dt">+++ recipe_warming_stripes_local.yml</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="dt">@@ -10,9 +10,11 @@</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>   - {dataset: BCC-ESM1, project: CMIP6, mip: Amon, exp: historical, </span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>      ensemble: r1i1p1f1, grid: gn, start_year: 1850, end_year: 2014}</span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a> preprocessors:</span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a><span class="st">-  global_anomalies:</span></span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a><span class="st">-    area_statistics:</span></span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a><span class="st">-      operator: mean</span></span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a><span class="va">+  anomalies_amsterdam:</span></span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a><span class="va">+    extract_point:</span></span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a><span class="va">+      latitude: 52.379189</span></span>
<span id="cb13-14"><a href="#cb13-14" tabindex="-1"></a><span class="va">+      longitude: 4.899431</span></span>
<span id="cb13-15"><a href="#cb13-15" tabindex="-1"></a><span class="va">+      scheme: linear</span></span>
<span id="cb13-16"><a href="#cb13-16" tabindex="-1"></a>     anomalies:</span>
<span id="cb13-17"><a href="#cb13-17" tabindex="-1"></a>       period: month</span>
<span id="cb13-18"><a href="#cb13-18" tabindex="-1"></a>       reference:</span>
<span id="cb13-19"><a href="#cb13-19" tabindex="-1"></a><span class="dt">@@ -27,9 +29,9 @@</span></span>
<span id="cb13-20"><a href="#cb13-20" tabindex="-1"></a> diagnostics:</span>
<span id="cb13-21"><a href="#cb13-21" tabindex="-1"></a>   diagnostic_warming_stripes:</span>
<span id="cb13-22"><a href="#cb13-22" tabindex="-1"></a>     variables:</span>
<span id="cb13-23"><a href="#cb13-23" tabindex="-1"></a><span class="st">-      global_temperature_anomalies:</span></span>
<span id="cb13-24"><a href="#cb13-24" tabindex="-1"></a><span class="va">+      temperature_anomalies_amsterdam:</span></span>
<span id="cb13-25"><a href="#cb13-25" tabindex="-1"></a>         short_name: tas</span>
<span id="cb13-26"><a href="#cb13-26" tabindex="-1"></a><span class="st">-        preprocessor: global_anomalies</span></span>
<span id="cb13-27"><a href="#cb13-27" tabindex="-1"></a><span class="va">+        preprocessor: anomalies_amsterdam</span></span>
<span id="cb13-28"><a href="#cb13-28" tabindex="-1"></a>     scripts:</span>
<span id="cb13-29"><a href="#cb13-29" tabindex="-1"></a>       warming_stripes_script:</span>
<span id="cb13-30"><a href="#cb13-30" tabindex="-1"></a>         script: ~/esmvaltool_tutorial/warming_stripes.py</span></code></pre>
</div>
<p>{: .solution} {:.challenge}</p>
</blockquote>
</blockquote>
<blockquote>
<h2 id="different-time-periods">Different time periods</h2>
<p>Split the diagnostic in two with two different time periods for the
same variable. You can choose the time periods yourself. In the example
below, we have chosen the recent past and the 20th century and have used
variable grouping.</p>
<blockquote>
<h2 id="solution-3">Solution</h2>
<p>Here’s a copy of the <a href="../files/recipe_warming_stripes_periods.yml">recipe at this point</a>
and this is the difference with the previous recipe:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">DIFF<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode diff" tabindex="0"><code class="sourceCode diff"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="kw">--- recipe_warming_stripes_local.yml</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="dt">+++ recipe_warming_stripes_periods.yml</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="dt">@@ -7,7 +7,7 @@</span></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a> datasets:</span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a><span class="st">-  - {dataset: BCC-ESM1, project: CMIP6, mip: Amon, exp: historical, </span></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a><span class="st">-  	  ensemble: r1i1p1f1, grid: gn, start_year: 1850, end_year: 2014}</span></span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a><span class="va">+  - {dataset: BCC-ESM1, project: CMIP6, mip: Amon, exp: historical, </span></span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a><span class="va">+     ensemble: r1i1p1f1, grid: gn}</span></span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a> preprocessors:</span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a>   anomalies_amsterdam:</span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a><span class="dt">@@ -29,9 +29,16 @@</span></span>
<span id="cb14-14"><a href="#cb14-14" tabindex="-1"></a> diagnostics:</span>
<span id="cb14-15"><a href="#cb14-15" tabindex="-1"></a>   diagnostic_warming_stripes:</span>
<span id="cb14-16"><a href="#cb14-16" tabindex="-1"></a>     variables:</span>
<span id="cb14-17"><a href="#cb14-17" tabindex="-1"></a><span class="st">-      temperature_anomalies_amsterdam:</span></span>
<span id="cb14-18"><a href="#cb14-18" tabindex="-1"></a><span class="va">+      temperature_anomalies_recent:</span></span>
<span id="cb14-19"><a href="#cb14-19" tabindex="-1"></a>         short_name: tas</span>
<span id="cb14-20"><a href="#cb14-20" tabindex="-1"></a>         preprocessor: anomalies_amsterdam</span>
<span id="cb14-21"><a href="#cb14-21" tabindex="-1"></a><span class="va">+        start_year: 1950</span></span>
<span id="cb14-22"><a href="#cb14-22" tabindex="-1"></a><span class="va">+        end_year: 2014</span></span>
<span id="cb14-23"><a href="#cb14-23" tabindex="-1"></a><span class="va">+      temperature_anomalies_20th_century:</span></span>
<span id="cb14-24"><a href="#cb14-24" tabindex="-1"></a><span class="va">+        short_name: tas</span></span>
<span id="cb14-25"><a href="#cb14-25" tabindex="-1"></a><span class="va">+        preprocessor: anomalies_amsterdam</span></span>
<span id="cb14-26"><a href="#cb14-26" tabindex="-1"></a><span class="va">+        start_year: 1900</span></span>
<span id="cb14-27"><a href="#cb14-27" tabindex="-1"></a><span class="va">+        end_year: 1999</span></span>
<span id="cb14-28"><a href="#cb14-28" tabindex="-1"></a>     scripts:</span>
<span id="cb14-29"><a href="#cb14-29" tabindex="-1"></a>       warming_stripes_script:</span>
<span id="cb14-30"><a href="#cb14-30" tabindex="-1"></a>         script: ~/esmvaltool_tutorial/warming_stripes.py</span></code></pre>
</div>
<p>{: .solution} {:.challenge}</p>
</blockquote>
</blockquote>
<blockquote>
<h2 id="different-preprocessors">Different preprocessors</h2>
<p>Now that you have different variable groups, we can also use
different preprocessors. Add a second preprocessor to add another
location of your choosing.</p>
<blockquote>
<h2 id="solution-4">Solution</h2>
<p>Here’s a copy of the <a href="../files/recipe_warming_stripes_multiple_locations.yml">recipe at
this point</a> and this is the difference with the previous recipe:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">DIFF<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode diff" tabindex="0"><code class="sourceCode diff"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="kw">--- recipe_warming_stripes_periods.yml</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="dt">+++ recipe_warming_stripes_multiple_locations.yml</span></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="dt">@@ -15,7 +15,7 @@</span></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>       latitude: 52.379189</span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a>       longitude: 4.899431</span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a>       scheme: linear</span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a><span class="st">-    anomalies:</span></span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a><span class="va">+    anomalies: &amp;anomalies</span></span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a>       period: month</span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a>       reference:</span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a>         start_year: 1981</span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a><span class="dt">@@ -25,18 +25,24 @@</span></span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a>         end_month: 12</span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a>         end_day: 31</span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a>       standardize: false</span>
<span id="cb15-16"><a href="#cb15-16" tabindex="-1"></a><span class="va">+  anomalies_london:</span></span>
<span id="cb15-17"><a href="#cb15-17" tabindex="-1"></a><span class="va">+    extract_point:</span></span>
<span id="cb15-18"><a href="#cb15-18" tabindex="-1"></a><span class="va">+      latitude: 51.5074</span></span>
<span id="cb15-19"><a href="#cb15-19" tabindex="-1"></a><span class="va">+      longitude: 0.1278</span></span>
<span id="cb15-20"><a href="#cb15-20" tabindex="-1"></a><span class="va">+      scheme: linear</span></span>
<span id="cb15-21"><a href="#cb15-21" tabindex="-1"></a><span class="va">+    anomalies: *anomalies</span></span>
<span id="cb15-22"><a href="#cb15-22" tabindex="-1"></a></span>
<span id="cb15-23"><a href="#cb15-23" tabindex="-1"></a> diagnostics:</span>
<span id="cb15-24"><a href="#cb15-24" tabindex="-1"></a>   diagnostic_warming_stripes:</span>
<span id="cb15-25"><a href="#cb15-25" tabindex="-1"></a>     variables:</span>
<span id="cb15-26"><a href="#cb15-26" tabindex="-1"></a><span class="st">-      temperature_anomalies_recent:</span></span>
<span id="cb15-27"><a href="#cb15-27" tabindex="-1"></a><span class="va">+      temperature_anomalies_recent_amsterdam:</span></span>
<span id="cb15-28"><a href="#cb15-28" tabindex="-1"></a>         short_name: tas</span>
<span id="cb15-29"><a href="#cb15-29" tabindex="-1"></a>         preprocessor: anomalies_amsterdam</span>
<span id="cb15-30"><a href="#cb15-30" tabindex="-1"></a>         start_year: 1950</span>
<span id="cb15-31"><a href="#cb15-31" tabindex="-1"></a>         end_year: 2014</span>
<span id="cb15-32"><a href="#cb15-32" tabindex="-1"></a><span class="st">-      temperature_anomalies_20th_century:</span></span>
<span id="cb15-33"><a href="#cb15-33" tabindex="-1"></a><span class="va">+      temperature_anomalies_20th_century_london:</span></span>
<span id="cb15-34"><a href="#cb15-34" tabindex="-1"></a>         short_name: tas</span>
<span id="cb15-35"><a href="#cb15-35" tabindex="-1"></a><span class="st">-        preprocessor: anomalies_amsterdam</span></span>
<span id="cb15-36"><a href="#cb15-36" tabindex="-1"></a><span class="va">+        preprocessor: anomalies_london</span></span>
<span id="cb15-37"><a href="#cb15-37" tabindex="-1"></a>         start_year: 1900</span>
<span id="cb15-38"><a href="#cb15-38" tabindex="-1"></a>         end_year: 1999</span>
<span id="cb15-39"><a href="#cb15-39" tabindex="-1"></a>     scripts:</span></code></pre>
</div>
<p>{: .solution}</p>
</blockquote>
<p>{:.challenge}</p>
</blockquote>
<blockquote>
<h2 id="pro-tip-yaml-anchors">Pro-tip: YAML anchors</h2>
<p>If you want to avoid retyping the arguments used in your
preprocessor, you can use YAML anchors as seen in the
<code>anomalies</code> preprocessor specifications in the recipe above.
{:.callout}</p>
</blockquote>
<blockquote>
<h2 id="additional-datasets">Additional datasets</h2>
<p>So far we have defined the datasets in the datasets section of the
recipe. However, it’s also possible to add specific datasets only for
specific variables or variable groups. Take a look at the documentation
to learn about the <code>additional_datasets</code> keyword
[here][additional-datasets]{:target=“_blank”}, and add a second dataset
only for one of the variable groups.</p>
<blockquote>
<h2 id="solution-5">Solution</h2>
<p>Here’s a copy of the <a href="../files/recipe_warming_stripes_additional_datasets.yml">recipe at
this point</a> and this is the difference with the previous recipe:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">DIFF<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode diff" tabindex="0"><code class="sourceCode diff"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="kw">--- recipe_warming_stripes_multiple_locations.yml</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="dt">+++ recipe_warming_stripes_additional_datasets.yml</span></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a><span class="dt">@@ -45,6 +45,8 @@</span></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>         preprocessor: anomalies_london</span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a>         start_year: 1900</span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a>         end_year: 1999</span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a><span class="va">+        additional_datasets:</span></span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a><span class="va">+          - {dataset: CanESM2, project: CMIP5, mip: Amon, exp: historical, ensemble: r1i1p1}</span></span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a>     scripts:</span>
<span id="cb16-10"><a href="#cb16-10" tabindex="-1"></a>       warming_stripes_script:</span>
<span id="cb16-11"><a href="#cb16-11" tabindex="-1"></a>         script: ~/esmvaltool_tutorial/warming_stripes.py</span></code></pre>
</div>
<p>{: .solution} {:.challenge}</p>
</blockquote>
</blockquote>
<blockquote>
<h2 id="multiple-ensemble-members">Multiple ensemble members</h2>
<p>You can choose data from multiple ensemble members for a model in a
single line.</p>
<blockquote>
<h2 id="solution-6">Solution</h2>
<p>The <code>dataset</code> section allows you to choose more than one
ensemble member Here’s a copy of the changed <a href="../files/recipe_warming_stripes_multiple_ensemble_members.yml">recipe</a>
to do that. Changes made are shown in the diff output below:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">DIFF<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode diff" tabindex="0"><code class="sourceCode diff"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="kw">--- recipe_warming_stripes.yml	2024-05-27 15:37:52.340358967 +0100</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="dt">+++ recipe_warming_stripes_multiens.yml	2024-05-27 22:18:42.035558837 +0100</span></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a><span class="dt">@@ -10,7 +10,7 @@</span></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a><span class="st">-     ensemble: r1i1p1f1, grid: gn, start_year: 1850, end_year: 2014}</span></span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a><span class="va">+     ensemble: "r(1:2)i1p1f1", grid: gn, start_year: 1850, end_year: 2014}</span></span></code></pre>
</div>
<p>{: .solution} {:.challenge}</p>
</blockquote>
</blockquote>
<blockquote>
<h2 id="pro-tip-concatenating-datasets">Pro-tip: Concatenating
datasets</h2>
<p>Check out the section on a different way to use multiple ensemble
members or even multiple experiments at [Concatenating data
corresponding to multiple facets]
[concatenating-datasets]{:target=“_blank”}.</p>
<p>{: .callout}</p>
</blockquote>
<p>{% include links.md %}</p>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/05-conclusions.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/07-development-setup.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/05-conclusions.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Conclusion of the
        </a>
        <a class="chapter-link float-end" href="../instructor/07-development-setup.html" rel="next">
          Next: Development and...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/ehogan/ESMValTool_Tutorial/edit/main/episodes/06-preprocessor.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/ehogan/ESMValTool_Tutorial/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/ehogan/ESMValTool_Tutorial/" class="external-link">Source</a></p>
				<p><a href="https://github.com/ehogan/ESMValTool_Tutorial/blob/main/CITATION.cff" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.10" class="external-link">sandpaper (0.16.10)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.7" class="external-link">pegboard (0.7.7)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.5" class="external-link">varnish (1.0.5)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://ehogan.github.io/ESMValTool_Tutorial/instructor/06-preprocessor.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Writing your own recipe",
  "creativeWorkStatus": "active",
  "url": "https://ehogan.github.io/ESMValTool_Tutorial/instructor/06-preprocessor.html",
  "identifier": "https://ehogan.github.io/ESMValTool_Tutorial/instructor/06-preprocessor.html",
  "dateCreated": "2024-11-21",
  "dateModified": "2024-11-21",
  "datePublished": "2024-12-17"
}

  </script><script>
		feather.replace();
	</script></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

