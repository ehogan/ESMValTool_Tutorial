# ESMValTool
# recipe_example.yml
---
documentation:
  description: Demonstrate basic ESMValTool example

  authors:
    - demora_lee
    - mueller_benjamin
    - swaminathan_ranjini

  maintainer:
    - demora_lee

  references:
    - demora2018gmd
    # Some plots also appear in ESMValTool paper 2.

  projects:
    - ukesm

preprocessors:
 prep_mmm:
   custom_order: true
   regrid:
     target_grid: 2.5 x 2.5
     scheme: linear
   multi_model_statistics:
     span: full
     statistics: [mean, median]

 prep_obs:
   mask_landsea:
     mask_out: sea
   regrid:
     target_grid: 2.5 x 2.5
     scheme: linear

cmip5_control: &cmip5_control
 - {dataset: HadGEM2-ES, ensemble: r1i1p1, project: CMIP5}
 - {dataset: MPI-ESM-LR, ensemble: r1i1p1, project: CMIP5}

cmip5_target: &cmip5_target
 - {dataset: CanESM2, ensemble: "r(1:2)i1p1", project: CMIP5}

diagnostics:

 diag_variable_groups:
   description: Demonstrate the use of variable groups.
   variables:
     tas_contorl: &variable_settings  # need a key name for the grouping
       short_name: tas  # specify variable to look for
       preprocessor: prep_mmm
       mip: Amon
       exp: historical
       start_year: 2000
       end_year: 2005
       tag: TAS_CONTROL  # tag is optional if you are using these settings just once
       additional_datasets: *cmip5_control
     tas_target:
       <<: *variable_settings
       tag: TAS_TARGET
       additional_datasets: *cmip5_target  # nothing changes from cmip5 except the data set
   scripts: null
